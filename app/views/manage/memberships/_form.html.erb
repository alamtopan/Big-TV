<% if @membership.errors.any? %>
  <div id="error_explanation">
    <div class="alert alert-block alert-danger fade in ">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>Warning!</strong> <%= pluralize(@membership.errors.count, "error") %>
      <% @membership.errors.full_messages.each do |msg| %>
      <diV>
        <%= msg %>
      </div>
      <% end %>
    </div>
  </div>
<% end %>
<div class="form-group">
  <%= f.label :name, class: "col-sm-2 control-label" %>
  <div class="col-sm-9">
    <%= f.text_field :name, class: "form-control" %>
  </div>
</div>
<div class="form-group">
  <%= f.label :category_id, class: "col-sm-2 control-label" %>
  <div class="col-sm-9">
    <%= f.select :category_id, options_from_collection_for_select(@categories, :id, :name, @membership.category_id), {prompt: "Select Category"}, class: "form-control" %>
  </div>
</div>
<div class="form-group">
  <%= f.label :description, class: "col-sm-2 control-label" %>
  <div class="col-sm-9">
    <%= f.text_field :description, class: "form-control" %>
  </div>
</div>
<div class="form-group">
  <%= f.label :publish_on, class: "col-sm-2 control-label" %>
  <div class="col-sm-9">
    <div class="input-group">
      <%= f.text_field :publish_on, class: "form-control datepicker", data: {"date-format" => "yyyy-mm-dd", "date-viewmode" => "years"} %>
      <span class="input-group-addon"> <i class="icon-calendar"></i> </span>
    </div>
  </div>
</div>
<div class="form-group">
  <%= f.label :expire_on, class: "col-sm-2 control-label" %>
  <div class="col-sm-9">
    <div class="input-group">
      <%= f.text_field :expire_on, class: "form-control datepicker", data: {"date-format" => "yyyy-mm-dd", "date-viewmode" => "years"} %>
      <span class="input-group-addon"> <i class="icon-calendar"></i> </span>
    </div>
  </div>
</div>
<div class="form-group">
  <%= f.label :is_published, 'Mark As Published', class: "col-sm-2 control-label" %>
  <div class="col-sm-9">
    <%= f.check_box :is_published %>
  </div>
</div>
<div class="form-group">
  <%= f.label :is_featured, 'Mark As Featured', class: "col-sm-2 control-label" %>
  <div class="col-sm-9">
    <%= f.check_box :is_featured %>
  </div>
</div>
<div class="form-group">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <i class="icon-dollar"></i>
        Pricing
        <div class="panel-tools">
          <a class="btn btn-xs btn-link panel-collapse collapses" href="#">
          </a>
          <a class="btn btn-xs btn-link panel-expand" href="#">
            <i class="icon-resize-full"></i>
          </a>
        </div>
      </div>
      <div class="panel-body">
        <%= f.fields_for :prices do |f| %>
          <%= render partial: 'price_fields', locals: { f: f } %>
        <% end %>
        <%= link_to_add_association 'Add More', f, :prices %>
      </div>
    </div>
  </div>
</div>
<div class="form-group">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <i class="icon-list-alt"></i>
        Membership Chanel
        <div class="panel-tools">
          <a class="btn btn-xs btn-link panel-collapse collapses" href="#">
          </a>
          <a class="btn btn-xs btn-link panel-expand" href="#">
            <i class="icon-resize-full"></i>
          </a>
        </div>
      </div>
      <div class="panel-body">
        <table class="table table-bordered">
          <%= render partial: 'item', locals: { f: f } %>
        </table>
      </div>
    </div>
  </div>
</div>

<br/>
<div class="pull-right">
  <%= f.submit 'Save', class: "btn btn-bricky" %>
  <%= link_to '<i class="icon-circle-arrow-left"></i> Back'.html_safe, manage_memberships_path, class: "btn btn-dark-grey" %>
</div>
